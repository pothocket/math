%&pdflatex
\documentclass[12pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsthm,amssymb,amsfonts,tikz-cd}

\newenvironment{problem}[2][Problem]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}}

\newenvironment{solution}
  {\renewcommand\qedsymbol{$\blacksquare$}\begin{proof}[Solution]}
        {\end{proof}}

\begin{document}

\title{Algebra: Chapter 0 Exercises\\ \large Chapter 1, Section 4}
\author{David Melendez}
\maketitle

\begin{problem}{4.1}
    Composition is defined for \textit{two} morphisms. 
    If more than two morphisms are given, e.g.:

    \[\begin{tikzcd}
        A \ar[r,"f"] & B \ar[r,"g"] & C \ar[r,"h"] & D \ar[r,"i"] & E
    \end{tikzcd}\]

    then one may compose them in several ways, for example:
    \begin{equation*}
        (ih)(gf),\,\,\,\, (i(hg))f,\,\,\,\, i((hg)f),\,\,\,\, etc.
    \end{equation*}
    so that at every step one is only composing two morphisms. 
    Prove that the result of any such nested composition is independent of the placement of the parentheses.
\end{problem}
\begin{solution}
  Let $Z_m \in \text{Obj}(C)$ and $f_m \in \text{Hom}{(Z_{m+1}, Z_{m})}$ for every $m \in \mathbb{N}$. 
  Let $n$ be the number of morphisms we're composing.
  We will use induction on $n$.
  \\\\Base case: Suppose $n=3$. 
  Then, since $C$ is a category, we have $f_1(f_2f_3)$ = $(f_1f_2)f_3$.
  \\\\Induction: Suppose that all parenthesizations of $f_1,\, \ldots\, f_{j-1}$ under composition are equivalent for all $1 \leq j < n$.
  Then, for some $1 < k \leq n$, let $\alpha$ be some parenthesization of $f_1, \ldots, f_{k-1}$, and let $\beta$ be some parenthesization of $f_k, \ldots, f_{n}$.
  Any parenthesization of $f_1, \ldots, f_n$ will then be of the form $\alpha\beta$.
  By associativity and our inductive hypothesis, we have $\alpha=\left( (f_k \ldots f_{n-1})f_n \right)$. Thus, by associativity, we have
  \begin{align*}
    \alpha\beta &= (f_1\ldots f_{k-1})\left( (f_k\ldots f_{n-1})f_n \right) \\
    &= \left( (f_1 \ldots f_{k-1})(f_k \ldots f_{n-1}) \right)f_n \\
    &= ((\ldots((f_1f_2)f_3)\ldots)f_n
  \end{align*}
  as desired.
\end{solution}

\end{document}

